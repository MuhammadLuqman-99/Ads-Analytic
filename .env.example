# =============================================================================
# Ads Aggregator SaaS - Environment Configuration
# =============================================================================

# Application
APP_NAME=ads-aggregator
APP_ENV=development
APP_PORT=8080
APP_DEBUG=true

# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ads_aggregator
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# Redis (for rate limiting and caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT
JWT_SECRET=your_super_secret_jwt_key_min_32_chars
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# Encryption (for OAuth tokens at rest)
ENCRYPTION_KEY=your_32_byte_encryption_key_here

# =============================================================================
# Email Configuration
# =============================================================================
EMAIL_PROVIDER=smtp                          # smtp, sendgrid, resend, noop
EMAIL_FROM=noreply@yourapp.com
EMAIL_FROM_NAME=Ads Analytics

# SMTP Configuration (if EMAIL_PROVIDER=smtp)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_USE_TLS=true

# SendGrid Configuration (if EMAIL_PROVIDER=sendgrid)
SENDGRID_API_KEY=SG.xxxxxx

# Resend Configuration (if EMAIL_PROVIDER=resend)
RESEND_API_KEY=re_xxxxxx

# Token Expiry
EMAIL_VERIFICATION_EXPIRY=24h
PASSWORD_RESET_EXPIRY=1h

# Frontend URL (for email links)
FRONTEND_URL=http://localhost:3000

# =============================================================================
# Meta (Facebook) Ads API
# =============================================================================
META_APP_ID=your_meta_app_id
META_APP_SECRET=your_meta_app_secret
META_REDIRECT_URI=http://localhost:8080/api/v1/oauth/meta/callback
META_API_VERSION=v18.0
META_RATE_LIMIT_CALLS=200
META_RATE_LIMIT_WINDOW=1h

# =============================================================================
# TikTok Ads API
# =============================================================================
TIKTOK_APP_ID=your_tiktok_app_id
TIKTOK_APP_SECRET=your_tiktok_app_secret
TIKTOK_REDIRECT_URI=http://localhost:8080/api/v1/oauth/tiktok/callback
TIKTOK_RATE_LIMIT_CALLS=10
TIKTOK_RATE_LIMIT_WINDOW=1s

# =============================================================================
# Shopee Ads API
# =============================================================================
SHOPEE_PARTNER_ID=your_shopee_partner_id
SHOPEE_PARTNER_KEY=your_shopee_partner_key
SHOPEE_REDIRECT_URI=http://localhost:8080/api/v1/oauth/shopee/callback
SHOPEE_RATE_LIMIT_CALLS=1000
SHOPEE_RATE_LIMIT_WINDOW=1m

# =============================================================================
# Scheduler
# =============================================================================
SCHEDULER_ENABLED=true
SYNC_CRON_SCHEDULE=0 * * * *
TOKEN_REFRESH_CRON_SCHEDULE=*/30 * * * *
METRICS_AGGREGATION_CRON_SCHEDULE=0 */6 * * *

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_OUTPUT=stdout

# =============================================================================
# Rate Limiting (API)
# =============================================================================
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=1m

# =============================================================================
# HTTP Client
# =============================================================================
HTTP_CLIENT_TIMEOUT=30s
HTTP_CLIENT_MAX_RETRIES=3
HTTP_CLIENT_RETRY_WAIT_MIN=1s
HTTP_CLIENT_RETRY_WAIT_MAX=30s

# =============================================================================
# Stripe Billing
# =============================================================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_PRICE_ID_PRO_MONTHLY=price_xxxxxx
STRIPE_PRICE_ID_PRO_YEARLY=price_xxxxxx
STRIPE_PRICE_ID_BUSINESS_MONTHLY=price_xxxxxx
STRIPE_PRICE_ID_BUSINESS_YEARLY=price_xxxxxx
STRIPE_SUCCESS_URL=http://localhost:3000/billing/success
STRIPE_CANCEL_URL=http://localhost:3000/billing/cancel

# =============================================================================
# Frontend
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_APP_NAME=Ads Analytics

# =============================================================================
# Observability - Sentry
# =============================================================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_SAMPLE_RATE=1.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# Observability - Grafana
# =============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3001

# =============================================================================
# Docker Build (set by CI/CD)
# =============================================================================
APP_VERSION=1.0.0
BUILD_TIME=
GIT_COMMIT=
